{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/Content/Base64Links.js","webpack:///./src/Content/FromHightToLowTypeSort.js","webpack:///./src/Content/Links.js","webpack:///./src/Content/LinksCreator.js","webpack:///./src/Content/Model.js","webpack:///./src/Content/TypeSort.js","webpack:///./src/Content/WithHttpLinks.js","webpack:///./src/Content/WithStartDoubleSlashLinks.js","webpack:///./src/Content/WithoutHostNameLinks.js","webpack:///./src/Content/content.js"],"names":["Base64Links","item","Links","FromHightToLowTypeSort","a","b","TypeSort","LinksCreator","substring","WithHttpLinks","WithStartDoubleSlashLinks","indexOf","WithoutHostNameLinks","Model","DEFAULT_TYPE_SORT","DEFAULT_NUMBER_FILES","hostProtocol","window","location","protocol","hostName","hostname","numberFiles","defineTypeSort","initModel","getUniqueSrcs","size","mergeUrlSizeScale","setEmptyArrayFiles","readyArr","arrayUrlSizeScale","editFormatSizeFile","sort","sortState","createdValidLinkArr","createValidLink","countIteration","i","Promise","all","findSizeFiles","findScalePic","then","results","push","length","setReadyArr","arrayFromStorage","map","Math","round","resolve","reject","xhr","XMLHttpRequest","open","send","onreadystatechange","readyState","status","getResponseHeader","base64str","substr","atob","img","document","createElement","src","onload","width","height","err","collectLinksArr","createSrcsArray","linksCreator","getLink","srcsSet","srcsArray","forEach","codeSort","getTypeSort","Set","querySelectorAll","add","getAttribute","number","chrome","storage","sync","set","number_storage","setNumberFiles","get","data","undefined","getNumberFiles","getReadyArr","getNumberDownload","runtime","sendMessage","msg","url","response","split","slice","join","Controller","top","model","startExtension","listenerMessages","extension","onMessage","addListener","sender","sendResponse","action","extensionOrigin","id","ancestorOrigins","contains","querySelector","initFrame","getNumberLinksFromStorage","setTimeout","renderExtension","addEventListener","event","message","changeOnCountRowsField","downloadFiles","closeExtension","iframe","contentWindow","postMessage","numberDownload","setNumberFilesToStorage","body","removeChild","getURL","style","cssText","appendChild"],"mappings":"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","file":"content.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./src/Content/content.js\");\n","import Links from './Links.js';\r\n\r\nexport default class Base64Links extends Links {\r\n\t\r\n\tgetLink(item) {\r\n\t\treturn item;\r\n\t}\r\n\r\n}","import TypeSort from './TypeSort.js';\r\n\r\nexport default class FromHightToLowTypeSort extends TypeSort{\r\n\r\n\tgetTypeSort(a, b) {\r\n\t\tif (a[2] < b[2]) return 1;\r\n\t\tif (a[2] > b[2]) return -1;\r\n\t}\r\n\r\n}","export default class Links {\r\n\t\r\n\tgetLink(item) {\r\n\t\treturn item;\r\n\t}\r\n\r\n}","import WithHttpLinks from './WithHttpLinks.js'\r\nimport WithoutHostNameLinks from './WithoutHostNameLinks.js'\r\nimport WithStartDoubleSlashLinks from './WithStartDoubleSlashLinks.js'\r\nimport Base64Links from './Base64Links.js'\r\n\r\nexport default class LinksCreator {\r\n\tconstructor (item) {\r\n\t\tif (item.substring(0,4) === \"http\" || item.substring(0,5) === \"https\") {\r\n\t\t\treturn new WithHttpLinks();\r\n\t\t} else if (item.substring(0,2) === \"//\") {\r\n\t\t\treturn new WithStartDoubleSlashLinks();\r\n\t\t} else if (item.indexOf(\"data:image/gif;base64,\") !== -1) {\r\n\t\t\treturn new Base64Links();\r\n\t\t} else {\r\n\t\t\treturn new WithoutHostNameLinks();\r\n\t\t}\r\n\t}\r\n}","import LinksCreator from './LinksCreator.js'\r\nimport TypeSort from './TypeSort.js'\r\nimport FromHightToLowTypeSort from './FromHightToLowTypeSort.js'\r\n\r\nexport default class Model {\r\n\r\n\tconstructor(DEFAULT_TYPE_SORT, DEFAULT_NUMBER_FILES) {\r\n\t\tthis.hostProtocol = window.location.protocol;\r\n\t\tthis.hostName = window.location.hostname;\r\n\t\tthis.numberFiles = DEFAULT_NUMBER_FILES;\r\n\t\tthis.defineTypeSort(DEFAULT_TYPE_SORT);\r\n\t\tthis.initModel();\r\n\t}\r\n\r\n\tinitModel() {\r\n\t\tif (this.getUniqueSrcs().size !== 0) {\r\n\t\t\tthis.mergeUrlSizeScale();\r\n\t\t} else {\r\n\t\t\tthis.setEmptyArrayFiles();\r\n\t\t}\r\n\t}\r\n\r\n\tsetEmptyArrayFiles() {\r\n  \t\tthis.readyArr = [];\r\n  \t}\r\n\r\n  \tsetReadyArr(arrayUrlSizeScale) {\r\n\t\tthis.readyArr = this.editFormatSizeFile(arrayUrlSizeScale).sort(this.sortState);\r\n\t}\r\n\r\n\tgetReadyArr() {\r\n\t\treturn this.readyArr;\r\n\t}\r\n\r\n\tmergeUrlSizeScale() {\r\n\t\tlet createdValidLinkArr = this.createValidLink();\r\n\t\tlet arrayUrlSizeScale = [];\r\n\t\tlet countIteration = 0; \r\n\t\tfor (let i = 0; i < createdValidLinkArr.length; i++) {\r\n\t\t\tPromise.all([this.findSizeFiles(createdValidLinkArr[i]), this.findScalePic(createdValidLinkArr[i])])\r\n\t\t\t\t.then((results) => {\r\n\t\t\t\t\tcountIteration++;\r\n\t\t\t\t\tarrayUrlSizeScale.push([createdValidLinkArr[i],results[0],results[1]]);\r\n\t\t\t\t\tif (arrayUrlSizeScale.length === countIteration) {\r\n\t\t\t\t\t\tthis.setReadyArr(arrayUrlSizeScale);\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t}\r\n\t}\r\n\r\n\teditFormatSizeFile(size) {\r\n\t\tlet arrayFromStorage =  size.map((item, i) => {\r\n\t\t\tif (item[1] === null || item[1] === \"error\") {\r\n\t\t\t\treturn [item[0], 0, item[2]]\r\n\t\t\t} else {\r\n\t\t\t\treturn [item[0], Math.round((item[1] / 1024) * 100) / 100, item[2]];\r\n\t\t\t}\r\n\t\t});\r\n\t\treturn arrayFromStorage;\r\n\t}\r\n\r\n\tfindSizeFiles(item) {\r\n\t\treturn new Promise(function(resolve, reject) {\t\t\t\r\n\t\t\tlet xhr = new XMLHttpRequest();\r\n\t\t\txhr.open('GET', item, true);\r\n\t\t\txhr.send();\r\n\t\t\txhr.onreadystatechange = () => {\r\n\t\t\t\tif (xhr.readyState === 4) {\r\n\t\t\t\t\tif (xhr.status === 200) {\r\n\t\t\t\t\t\tif (item.indexOf(\"data:image/gif;base64,\") === -1) {\r\n\t\t\t\t\t\t    resolve(xhr.getResponseHeader('Content-Length'));\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t    let base64str = item.substr(item.indexOf('data:image/gif;base64,')).substr(22);\r\n\t\t\t\t\t\t    resolve(atob(base64str).length);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tresolve(\"error\");\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t};\r\n\t\t\t\r\n\t\t});\t\r\n\t}\r\n\r\n\tfindScalePic(item) {\r\n\t\treturn new Promise(function(resolve) {\r\n\t\t\tlet img = document.createElement(\"img\");\r\n  \t\t\timg.src = item;\r\n  \t\t\ttry {\r\n\t  \t\t\timg.onload = () => {\r\n\t\t  \t\t\tresolve(img.width * img.height);\r\n\t\t  \t\t}\r\n\t\t  \t} catch (err) {\r\n\t\t  \t\tresolve(\"error\");\r\n\t\t  \t}\r\n\t\t});\r\n\t}\r\n\r\n\tcreateValidLink() {\r\n\t\tlet collectLinksArr = this.createSrcsArray();\r\n\t\treturn collectLinksArr.map((item) => {\r\n\t\t\tlet linksCreator = new LinksCreator(item);\r\n\t\t\treturn linksCreator.getLink(item, this.hostProtocol, this.hostName);\r\n\t\t});\r\n\t}\r\n\r\n\tcreateSrcsArray() {\r\n\t\tlet srcsSet = this.getUniqueSrcs();\r\n\t    let srcsArray = [];\r\n\t    srcsSet.forEach((item) => {\r\n\t    \tsrcsArray.push(item);\r\n\t    });\r\n\t    return srcsArray;\r\n  \t}\r\n\r\n  \tdefineTypeSort(codeSort) {\r\n\t\tif (codeSort === 1) {\r\n\t\t\tthis.sortState = new FromHightToLowTypeSort().getTypeSort;\r\n\t\t} else {\r\n\t\t\tthis.sortState = new TypeSort().getTypeSort;\r\n\t\t}\r\n\t}\r\n\r\n\tgetUniqueSrcs() {\r\n\t    let srcsSet = new Set();\r\n\t    document.querySelectorAll(\"img\").forEach((item) => {\r\n\t        srcsSet.add(item.getAttribute(\"src\"));\r\n\t    });\r\n\t    return srcsSet;\r\n\t}\r\n\r\n\tgetNumberFiles() {\r\n\t\treturn this.numberFiles;\r\n\t}\r\n\r\n\tsetNumberFiles(number) {\r\n\t\tthis.numberFiles = number;\r\n\t}\r\n\r\n\tsetNumberFilesToStorage(number) {\r\n      \tchrome.storage.sync.set({number_storage: number}, function() {});\r\n      \tthis.setNumberFiles(number);\r\n    }\r\n\r\n    getNumberLinksFromStorage() {\r\n    \treturn new Promise((resolve, reject) => {\r\n        \tchrome.storage.sync.get(\"number_storage\", (data) => {\r\n            \tif (data.number_storage == undefined) {\r\n                \tresolve(this.numberFiles);\r\n              \t} else {\r\n                \tresolve(data.number_storage);\r\n              \t}\r\n          \t});\r\n      \t});\r\n    }\r\n\r\n    getNumberDownload() {\r\n    \treturn this.getNumberFiles() > this.getReadyArr().length ? this.getReadyArr().length : this.getNumberFiles();\r\n    }\r\n\r\n    downloadFiles() {\r\n    \tfor (let i = 0; i < this.getNumberDownload(); i++) {\r\n    \t\tchrome.runtime.sendMessage({msg: \"downloadFiles\", url: this.getReadyArr()[i][0]}, function(response) {});\r\n    \t}\r\n    }\r\n}","export default class TypeSort {\r\n\r\n\tgetTypeSort(a, b) {\r\n\t\tif (a[1] > b[1]) return 1;\r\n\t \tif (a[1] < b[1]) return -1;\r\n\t}\r\n\r\n}\r\n","import Links from './Links.js';\r\n\r\nexport default class WithHttpLinks extends Links {\r\n\t\r\n\tgetLink(item) {\r\n\t\treturn item;\r\n\t}\r\n\r\n}","import Links from './Links.js';\r\n\r\nexport default class WithStartDoubleSlashLinks extends Links {\r\n\t\r\n\tgetLink(item, hostProtocol) {\r\n\t\treturn hostProtocol + \"//\" + item.split(\"\").slice(2).join(\"\");\r\n\t}\r\n\r\n}","import Links from './Links.js';\r\n\r\nexport default class WithoutHostNameLinks extends Links {\r\n\t\r\n\tgetLink(item, hostProtocol, hostName) {\r\n\t\treturn hostProtocol + \"//\" + hostName + \"/\" + item;\r\n\t}\r\n\r\n}","import Model from './Model.js'\n\nclass Controller {\n\t\n\tconstructor(DEFAULT_NUMBER_FILES, DEFAULT_TYPE_SORT) {\n\t\tif (window && window.top === window) {\n\t\t\tthis.model = new Model(DEFAULT_TYPE_SORT, DEFAULT_NUMBER_FILES);\n\t\t\tthis.startExtension();\n\t\t\tthis.listenerMessages();\n\t\t}\n\t}\n\n\tstartExtension() {\n\t\tchrome.extension.onMessage.addListener((msg, sender, sendResponse) => {\n\t\t\tif (msg.action == 'open_dialog_box') {\n\t\t\t\tlet extensionOrigin = 'chrome-extension://' + chrome.runtime.id;\n\t\t\t\tif (!location.ancestorOrigins.contains(extensionOrigin)) {\n\t\t\t\t\tif (document.querySelector(\"#downLoadImagesExtension\")) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.initFrame();\n\t\t\t\t\t\tthis.model.getNumberLinksFromStorage().then((numberFiles) => {\n\t\t\t\t\t\t\tthis.model.setNumberFiles(numberFiles);\n\t\t\t\t\t\t});\n\t\t\t\t\t\tsetTimeout(() => this.renderExtension(), 1000);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t}\n \n\tlistenerMessages() {\n\t\twindow.addEventListener(\"message\", (event) => {\n\t\t\tswitch (event.data.message) {\n\t\t\t\tcase \"clickOnCountRowsField\":\n\t\t\t\t\tthis.changeOnCountRowsField(event.data.numberFiles);\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"clickOnDownloadButton\":\n\t\t\t\t\tthis.model.downloadFiles();\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"clickOnCloseButton\":\n\t\t\t\t\tthis.closeExtension();\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\treturn;\n\t\t\t}\n\t\t});\n\t}\n\n\trenderExtension() {\n\t\tthis.iframe.contentWindow.postMessage({\n\t\t\tmessage: \"renderExtension\", \n\t\t\tnumberFiles: this.model.getNumberFiles(),\n\t\t\tnumberDownload: this.model.getNumberDownload(),\n\t\t\treadyArr: this.model.getReadyArr()\n\t\t},\"*\");\n\t}\n\n\tchangeOnCountRowsField(number) {\n\t\tthis.model.setNumberFilesToStorage(event.data.numberFiles);\n\t\tthis.renderExtension();\n\t}  \n\n\tcloseExtension() {\n\t\tlet iframe = document.querySelector(\"#downLoadImagesExtension\");\n\t\tdocument.body.removeChild(iframe);\n\t}\n\n\tinitFrame() {\n\t\tthis.iframe = document.createElement('iframe');\n\t\tthis.iframe.src = chrome.runtime.getURL('frame.html');\n\t\tthis.iframe.id = \"downLoadImagesExtension\";\n\t\tthis.iframe.style.cssText = 'border:none;position:fixed;top:0;left:0;right:0;bottom:0;margin:auto;display:flex;justify-content:center; align-items: center; width:100%;max-width:560px;height:90vh;z-index:99999999;';\n\t\tdocument.body.appendChild(this.iframe);    \n\t}\n}\n\nconst DEFAULT_TYPE_SORT = 1;\nconst DEFAULT_NUMBER_FILES = 5;\nsetTimeout(() => new Controller(DEFAULT_NUMBER_FILES, DEFAULT_TYPE_SORT), 1000);"],"sourceRoot":""}